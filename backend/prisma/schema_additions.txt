// Add these to the Tenant model relations (line 311 after):
  bundles       Bundle[]
  qualityImages QualityImage[]

// Add these to the Product model relations (after line 110 orderItems):
  bundleProducts BundleProduct[]

// Add these new models at the end of schema.prisma (after Contact model):

// ==================== BUNDLES ====================
model Bundle {
  id            String          @id @default(cuid())
  name          String
  slug          String
  description   String?         @db.Text
  image         String?
  discount      Decimal         @db.Decimal(5, 2) // Percentage (e.g., 12.00 for 12%)

  // Products in bundle
  products      BundleProduct[]

  // Pricing
  originalPrice Decimal         @db.Decimal(10, 2)
  finalPrice    Decimal         @db.Decimal(10, 2)

  // Status
  isActive      Boolean         @default(true)

  // White-label
  tenantId      String
  tenant        Tenant          @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  // Timestamps
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt

  @@unique([slug, tenantId])
  @@index([tenantId])
  @@map("bundles")
}

model BundleProduct {
  id        String  @id @default(cuid())
  bundle    Bundle  @relation(fields: [bundleId], references: [id], onDelete: Cascade)
  bundleId  String
  product   Product @relation(fields: [productId], references: [id])
  productId String
  quantity  Int     @default(1)

  @@unique([bundleId, productId])
  @@map("bundle_products")
}

// ==================== QUALITY IMAGES ====================
model QualityImage {
  id          String   @id @default(cuid())
  title       String
  description String?  @db.Text
  imageUrl    String
  order       Int      @default(0)
  isActive    Boolean  @default(true)

  // White-label
  tenantId    String
  tenant      Tenant   @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  // Timestamps
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([tenantId])
  @@index([order])
  @@map("quality_images")
}
